<%= content_for :projects_dropdown do %>
  <div class="list-project">
    <select name="project_name" class="project-selection" form='nav-filter-form'>
      <% if params[:project_name].blank? %>
        <option selected value disabled>Choose a project</option>
      <% else %>
        <option value disabled>Choose a project</option>
      <% end %>
      <% all_projects_names.each do |name|%>
        <%if params[:project_name] == name %>
          <option selected value=<%= name %>> <%= name%> </option>
        <% else %>
          <option value=<%= name%>> <%= name%></option> %>
        <% end %>
      <% end %>
    </select>
  </div>
<% end %>

<%= content_for :development_metrics_sidebar do %>
  <%= render 'development_metrics/sidebar'%>
<% end %>

<div class="metrics-container container col-md-12">
  <%= render 'shared/project/nav-filter' do |f|%>
    <div class="row">
      <div class="col-md-5 period-input">
        <%= render 'shared/interval-filter', form: f %>
      </div>
      <div class="col-md-7">
        <%= render 'development_metrics/code_climate/code_climate_project_summary', code_climate: @code_climate %>
      </div>
    </div>
  <% end %>

  <%= render('code_owners', code_owners: @code_owners) unless @code_owners.nil? %>
  <% if @review_turnaround && @merge_time %>
    <div class="metrics">
      <div class="graph">
        <%= render 'development_metrics/review_turnaround/main_metric', review_turnaround: @review_turnaround %>
      </div>
      <div class="graph details">
        <%= render 'development_metrics/review_turnaround/details_metric', review_turnaround: @review_turnaround %>
      </div>
    </div>

    <div class="metrics">
      <div class="graph">
        <%= render 'development_metrics/merge_time/main_metric', merge_time: @merge_time %>
      </div>
      <div class="graph details">
        <%= render 'development_metrics/merge_time/details_metric', merge_time: @merge_time %>
      </div>
    </div>
  <% else %>
    <div class="row">
      <div class="body-empty-container col-md-12 d-flex justify-content-center align-items-center">
        <span>Please select a project to see its metrics</span>
      </div>
    </div>
  <% end %>
</div>
